- 요구사항: 일괄 작업 실행, 최소한의 운영 오버헤드

D. EC2 +. batch

배치는 대규모 일괄 작업을 효율적으로 실행하고 관리할 수 있는 서비스이다.

유연한 리소스 할당, 자동 스케줄링, 고성능 인스턴스. 비용 효율적이다.

A. lambda

→ 람다는 서버리스 컴퓨팅 서비스로 쩗은 실행 시간과 제한된 메모리를 가진 작업에 적합하다.

최대 메모리 제한은 10GB이며 단일 함수 실행 시간은 최대 15분이다.

B.farate + ECS

Fargate는 서버리스 컨테이너 서비스로 컨테이너 기반의 애플리케이션을 실행할 수 있다.

fargate는 최대 4vCPU와 30GiB 메모리를 지원하므로 적합하지 않다.

C. AS + lightsail

lightsail는 간단한 가상 서버 호스팅 서비스로 소규모 애플리케이션에 적합하다.

lightsail은 제한된 인스턴스 크기와 리소스 제약이 있어 고성능 작업에 적합하지 않다

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/7fa4c4e9-e750-4422-997d-4ccb4da3ccca/Untitled.png)

- 요구사항: 이미지를 동적으로 크기 조정 + 클라이언트에게 적절한 형식 제공

C. lambda@Edge

1. cloudfront와 통합되어 있어 전 세계적으로 분산된 위치에서 코드를 실행할 수 있으며 요청이 cloudfront로 들어오거나 응답이 나갈 때 이미지 크기 조정 작업을 수행할 수 있다. 이는 글로벌 사용자를 대상으로 이미지를 동적으로 처리할 수 있는 매우 효율적인 방법이다.
2. 이미지 처리에 특화된 라이브러리를 lambda@Edge함수 내에서 사용할 수 있다. 이를 통해 이미지를 실시간으로 크기 조정하고 변환할 수 있다.
3. cloudfront behaviors에 lambda@edge 함수를 연관시키면 요청을 처리하는 과정에서 이미지를 동적으로 변환할 수 있어 별도의 서버나 추가적인 인프라를 관리할 필요가 없다.

B. cloudfront 오리진 요청 정책 사용 → 이 정책만으로는 이미지 크기 조정 및 형식 변환을 자동으로 처리할 수 없다.

D. cloudfront 응답 헤더 정책 사용 → 이 정책만으로 이미지 크기 조정 및 형식 변환을 자동으로 처리할 수 없다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/aac3cf3c-1d37-40d4-84e6-8ac0952d0eca/Untitled.png)

- 요구사항: S3 버킷에 저장 + PHI가 전송 중 및 저장 시 암호화 + 데이터 저장 시 사용되는 암호화 키 관리

C.

1. aws:SecureTransport: 이 조건을 사용하여 S3 버킷 정책에서 HTTPS(TLS)를 통한 암호화만 연결만 허용하면 전송 중에 데이터가 안전하게 보호된다.
2. AWS KMS 키를 사용한 서버 측 암호화는 버킷에 저장된 데이터를 안전하게 보호하며 KMS 키를 사용자가 직접 관리할 수 있다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/84bdeee9-d980-435c-af13-f8b432a0f6ec/Untitled.png)

- 요구사항: 밀리초 미만의 대기 시간 + 일회성 쿼리 실행 + 최소한의 운영 오버헤드

C. DAX + dynamoDB → S3 + athena

1. dynamoDB + DAX
- dynamoDB는 높은 성능과 확장성을 제공하는 noSQL 데이터베이스 서비스로 밀리초 단위의 응답 시간을 보장한다.
- DAX를 사용하면 dynamoDB의 읽기 성능을 더욱 향상시켜 밀리초 미만의 대기 시간을 달성할 수 있다. dynamoDB에 대한 캐시 레이어로 읽기 요청을 캐싱하여 응답 시간을 최소화한다.
1. S3 + athena
- dynamoDB 데이터를 S3에 내보내고 athena를 사용하여 S3에 저장된 데이터에 대해 일회성 쿼리를 실행한다.
- dynamoDB 테이블 내보내기 기능을 사용하여 정기적으로 데이터를 S3에 저장한다.

A. RDS는 밀리초 미만의 대기 시간을 제공하지 않는다.

B. S3는 밀리초 미만의 대기 시간을 제공하지 않는다.

D. 실시간 응답 시간 요구 사항을 충족하기 위해서 이를 사용하는 것은 복잡하고 운영 오버헤드가 높다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/4f3eadad-4d1e-4bdc-84a9-86e733bc79e7/Untitled.png)

B. E.

1. 파티션 키: kinesis 데이터 스트림에서는 파티션 키를 사용하여 데이터를 분산시키며 동일한 파티션 키를 가진 데이터는 순서대로 처리된다. 결제 id를 파티션 키로 사용하면 특정 결제 id에 대한 메시지가 순서대로 스트림에 기록되고 소비될 수 있다.
2. kinesis는 높은 처리량과 낮은 대기 시간을 제공하며 실시간 데이터 스트리밍과 순서 보장이 필요할 때 적합하다.
3. SQS fifo 대기열은 메시지의 순서 보장을 제공한다. 이는 메시지가 전송된 순서대로 정확하게 한번 처리될 것을 보장한다.
4. 결제 id를 메시지 그룹 id로 설정하면 해당 결제 id의 관련된 모든 메시지가 순서대로 처리된다.

D. SQS 표준 대기열 - 표준 대기열은 순서 보장을 제공하지 않으며 메시지 순서가 유지되지 않을 수 있다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/6bdef5aa-cf9a-4dc0-ac93-ef3b0aa0fdf6/Untitled.png)

- 요구사항: 데이터 저장 및 전송 중 암호화 + 승인된 직원만 접근

B, D

1. AWS KMS 고객 관리형 키를 사용하여 SNS 구성 요소에서 서버 측 암호화를 활성화하는 것은 데이터 전송 중에 암호화를 보장한다.
2. 키 사용을 승인된 주체 집합으로 제한하는 키 정책을 적용하여 병원의 승인된 직원만 데이터에 접근할 수 있다.
3. KMS 고객 관리형 키를 사용하여 SQS 구성 요소에서 서버 측 암호화를 활성화하는 것은 데이터 저장 중 암호화를 보장한다.
4. 키 사용을 승인된 주체 집합으로 제한하는 키 정책을 적용하여 데이터 접근을 통제한다.
5. TLS를 통한 암호화된 연결만 허용하도록 대기열 정책에서 조건을 설정함으로써 전송 중 암호화를 추가로 보장한다.

- **A 옵션**: 기본 키 정책을 업데이트하는 것만으로는 충분하지 않을 수 있으며, 고객 관리형 키를 사용하는 것이 더 적절합니다.
- **C 옵션**: SNS 구성 요소에 대한 암호화를 활성화하는 것은 좋지만, 고객 관리형 키를 사용하는 것이 더 나은 보안 통제를 제공합니다.
- **E 옵션**: 이 옵션은 D 옵션과 비슷하지만, IAM 정책보다 키 정책을 사용하는 것이 키 관리 측면에서 더 명확하고 안전합니다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/95ec7735-83a3-41d9-9697-1fcc82e2af6c/Untitled.png)

- 요구사항: 구독이 있는 사용자만 프리미엄 콘텐츠에 접근할 수 있는 솔루션 제공

D.  api 사용 계획 및 api 키를 구현하여 구독하지 않은 사용자의 액세스를 제한한다.

1. api 사용 계획을 통해 api의 엔드포인트에 대하 접근을 제어할 수 있다. 이를 통해 구독자와 비구독자를 구별할 수 있다.
2. api 키를 발급하고 관리하여 구독 상태에 따라 사용자가 프리미엄 컨텐츠에 접근할 수 있도록 제어할 수 있다.

A. api 캐싱 및 조절은 api 성능을 개선하고 트래픽을 제어하는데 유용하다.

B. aws waf는 웹 애플리케이션 방화벽으로 주로 보안 관련 필터링에 사용된다.

C. 세분화된 iam 권한을 적용하는 것은 가능하지만 이 경우 제어를 위해 dynamoDB와 IAM 정책을 복잡하게 설정해야 한다.

---

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0e50c9f9-d6b9-4369-b0d8-a40d14ac1451/f36f5c59-12d3-49f6-bd10-651b7e4ef29a/Untitled.png)

- 요구사항: 가장 적은 운영 오버헤드 - 성능 + 확장성 문제 해결

A. batch + eventbridge

1. batch는 작업의 병렬 처리와 스케줄링을 자동으로 관리한다. 여러 작업을 효율적으로 처리할 수 있도록 EC2 인스턴스틀 자동으로 조정한다.
2. 배치는 작업을 정의하고 스케줄링하는 기능을 제공하며 인프라를 자동으로 관리한다. eventbridge를 사용하여 작업 스케줄링을 자동화할 수 있다.

B. app runner는 애플리케이션을 쉽게 배포하고 실행할 수 있게 해준다. 하지만 다양한 프로그래밍 언어로 작성된 여러 개의 작업을 관리하는데 적합하지 않을 수 있다.

C. lambda는 짧은 시간동안 실행되는 작업에 적합하다.

D. AS를 사용하면 여러 인스턴스를 자동으로 조정할 수 있다. 하지만 작업을 실행하는 인프라를 관리하고 설정하는데는 상당한 운영 오버헤드가 발생할 수 있다.