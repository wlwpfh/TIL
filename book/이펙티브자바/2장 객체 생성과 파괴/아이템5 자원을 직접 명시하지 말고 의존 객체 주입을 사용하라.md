## 아이템5. 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라  

많은 클래스가 하나 이상의 자원에 의존한다.  
사용하는 자원에 따라 동작이 달라지는 클래스에는 정적 유틸리티 클래스나 싱글턴 방식이 적합하지 않다.  

대신 클래스가 여러 자원 인스턴스를 지원해야 하며, 클라이언트가 원하는 자원을 사용해야 한다.  
=> **인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주는 방식을 사용하면 된다.**  

```java
    public class SpellChecker {
        private final Lexicon dictionary;
        
        public SpellChecker(Lexcion dictionary){
            this.dictionary = dictionary;
        }
        public boolean isValid(String word) {}
        public List<String> suggestions(String type) {}
    }
```
정적 유틸리티 클래스, 싱글턴으로 구현한 경우보다 더욱 유연하며 테스트 용이성을 높인다.   
이처럼 의존 객체 주입 패턴은 자원이 몇 개든 의존관계가 어떻든 잘 동작한다.  
또한 불변 아이템을 보장하여 여러 클라이언트가 의존 객체들을 공유할 수 있다.  

이 패턴의 비슷한 방법으로 생성자에 자원 팩터리를 넘겨주는 방식이 있다.  

* 팩터리란?  
: 호출할 때마다 특정 타입의 인스턴스를 반복해서 만들어주는 객체를 말한다.  
=> 팩터리 메서드 패턴을 구현한 것이다.  


`Supplier<T>` 인터페이스가 팩터리를 표현한 예시이다.  
이를 입력으로 받는 메서드는 일반적으로 한정적 와일드카드 타입을 사용해 팩터리의 타입 매개변수를 제한해야 한다.
`Mosaic create(Supplier<? extends Tile> tileFactory) {}`  
-> 클라이언트가 제공한 팩터리가 생성한 타일들로 구성된 모자이크를 만드는 메서드이다.  

의존 객체 주입은 의존성이 수천개나 되는 큰 프로젝트에서는 코드를 어지럽게 만들 수 있다.   
대거, 주스, 스프링과 같은 의존 객체 주입 프레임워크를 이용하면 어질러짐을 해소할 수 있다.  